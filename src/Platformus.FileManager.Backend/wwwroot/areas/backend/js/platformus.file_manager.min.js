(function(n){n.ui=n.ui||{};n.ui.tinyMceFileBrowserCallback=function(t,i,r,u){n.forms.fileSelectorForm.show(function(n){u.document.getElementById(t).value="/files/"+n})}})(window.platformus=window.platformus||{}),function(n){function t(){if(typeof FileReader!="undefined"){var n=$("#filesDragAndDropArea");n.length!=0&&(n[0].ondragover=function(){return n.addClass("files-drag-and-drop-area--dragging"),!1},n[0].ondragleave=function(){return n.removeClass("files-drag-and-drop-area--dragging"),!1},n[0].ondrop=function(t){var r,i;for(n.removeClass("files-drag-and-drop-area--dragging"),r=new FormData,i=0;i!=t.dataTransfer.files.length;i++)r.append("files",t.dataTransfer.files[i]);return $.ajax({url:"/backend/filemanager/create",data:r,processData:!1,contentType:!1,type:"POST",success:function(){location.reload()}}),!1})}}n.fileUploader={};n.fileUploader.fileSelected=function(){document.form.submit()};n.registerBehavior(function(){t()})}(window.platformus=window.platformus||{}),function(n){function i(){n.forms.activeForm.find(".table__row").bind("click",r)}function r(){$(this).find(".table__cell--header").length==0&&(n.forms.activeForm.find(".table__row").removeClass("table__row--selected"),$(this).addClass("table__row--selected"))}function u(){var t=n.forms.activeForm.find(".table__row--selected");return t.length==0?null:t.data("fileName")}var t=null;n.forms=n.forms||{};n.forms.fileSelectorForm={};n.forms.fileSelectorForm.show=function(r){return t=r,n.forms.baseForm.show("/backend/filemanager/fileselectorform",i,"file-selector-pop-up-form")};n.forms.fileSelectorForm.select=function(){var i=u();return n.string.isNullOrEmpty(i)||t==null||t(i),n.forms.baseForm.hideAndRemove()};n.forms.fileSelectorForm.hideAndRemove=function(){return n.forms.baseForm.hideAndRemove()}}(window.platformus=window.platformus||{});